#!/usr/bin/env sh

##############################################################################
##
##  Gradle start up script for POSIX generated by Gradle.
##
##############################################################################

# Determine the location of the script and resolve symlinks if any.
app_path=$0

# Need this for daisy-chained symlinks.
while [ -h "$app_path" ]; do
  ls=$(ls -ld "$app_path")
  link=$(expr "$ls" : '.*-> \(.*\)$')
  if expr "$link" : '/.*' > /dev/null; then
    app_path=$link
  else
    app_path=$(dirname "$app_path")"/$link"
  fi
done

APP_HOME=$(cd "$(dirname "$app_path")"/ && pwd -P)

# Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.
DEFAULT_JVM_OPTS=""

APP_NAME="Gradle"
APP_BASE_NAME=$(basename "$0")

# Use the maximum available, or set MAX_FD != -1 to use that value.
MAX_FD="maximum"

warn () {
  echo "$*"
}

die () {
  echo
  echo "$*"
  echo
  exit 1
}

# OS specific support functions.
# Unset irrelevant variables.
case "$(uname)" in
  CYGWIN*|MINGW*|MSYS*)
    use_win_path=true
    ;;
  *)
    use_win_path=false
    ;;
esac

CLASSPATH=$APP_HOME/gradle/wrapper/gradle-wrapper.jar

# Determine the Java command to use to start the JVM.
if [ -n "$JAVA_HOME" ]; then
  if [ -x "$JAVA_HOME/bin/java" ]; then
    JAVACMD="$JAVA_HOME/bin/java"
  else
    die "ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME"
  fi
else
  JAVACMD="java"
fi

if [ ! -x "$JAVACMD" ]; then
  die "ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH."
fi

# Increase the maximum file descriptors if we can.
if [ "$use_win_path" = false ]; then
  if [ "$MAX_FD" != "maximum" ]; then
    ulimit -n "$MAX_FD" >/dev/null 2>&1 ||
      warn "Could not set MAX_FD=$MAX_FD"
  else
    limit=$(ulimit -H -n 2>/dev/null)
    if [ $? -eq 0 ]; then
      ulimit -n "$limit" >/dev/null 2>&1 ||
        warn "Could not set MAX_FD=maximum"
    fi
  fi
fi

# Collect all arguments for the java command, while option parsing to support shell scripts.
# For args in double quotes we need to escape the double quotes so Java can process them.
set -- -Dorg.gradle.appname=$APP_BASE_NAME "$@"

exec "$JAVACMD" $DEFAULT_JVM_OPTS -classpath "$CLASSPATH" org.gradle.wrapper.GradleWrapperMain "$@"
